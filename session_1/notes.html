<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.487">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Topics in Economics – notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Topics in Economics
      </li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Topics in Economics</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../session_0/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../session_1/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Rise of Artificial Intelligence</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#history" id="toc-history" class="nav-link active" data-scroll-target="#history">History</a>
  <ul class="collapse">
  <li><a href="#two-papers-on-automation" id="toc-two-papers-on-automation" class="nav-link" data-scroll-target="#two-papers-on-automation">Two papers on automation</a></li>
  <li><a href="#what-can-machines-learn-and-what-does-it-mean-for-occupations-and-the-economy" id="toc-what-can-machines-learn-and-what-does-it-mean-for-occupations-and-the-economy" class="nav-link" data-scroll-target="#what-can-machines-learn-and-what-does-it-mean-for-occupations-and-the-economy">What Can Machines Learn and What Does It Mean for Occupations and the Economy?</a></li>
  <li><a href="#result-1" id="toc-result-1" class="nav-link" data-scroll-target="#result-1">Result (1)</a></li>
  <li><a href="#result-2" id="toc-result-2" class="nav-link" data-scroll-target="#result-2">Result (2)</a></li>
  <li><a href="#other-approaches" id="toc-other-approaches" class="nav-link" data-scroll-target="#other-approaches">Other approaches</a></li>
  </ul></li>
  <li><a href="#not-fitting-yet" id="toc-not-fitting-yet" class="nav-link" data-scroll-target="#not-fitting-yet">Not fitting yet</a>
  <ul class="collapse">
  <li><a href="#ai" id="toc-ai" class="nav-link" data-scroll-target="#ai">AI</a></li>
  <li><a href="#definitions" id="toc-definitions" class="nav-link" data-scroll-target="#definitions">Definitions</a></li>
  </ul></li>
  <li><a href="#ai-vs-automation" id="toc-ai-vs-automation" class="nav-link" data-scroll-target="#ai-vs-automation">AI vs Automation</a>
  <ul class="collapse">
  <li><a href="#remark" id="toc-remark" class="nav-link" data-scroll-target="#remark">Remark</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="history" class="level2">
<h2 class="anchored" data-anchor-id="history">History</h2>
<p>Quote from Von Neuman:</p>
<p>“You insist that there is something a machine cannot do. If you will tell me <em>precisely</em> what it is that a machine cannot do, then I can always make a machine which will do just that!”</p>
<p>History</p>
<p>52-56: Arthur Samuel, checkers playing program 1956: Dartmouth College summer AI conference. Mc Carthy coins the term “Artificial Intelligence” 1959: MIT AI Lab</p>
<p>Winter of AI: pessimism in AI community, in the press, cut in fundings - Episode 1: - 1966: disappointing results of “Machine Translation” - 1969: abandonment of connectionism (Rosenblatt, …) - Episode 2: - 1974: lighthill report, funding cuts (DARPA disappointed by ineffectivity of speech recognition) - Episoe 3 - late 80s, early 90s - colapse of LISP and expert system</p>
<p>State 2000s: AI had bad reputation - voice recognition, robotics, - but: lots of technologies have</p>
<p>Current Spring (since 2010): - language translation, image recognition, AlphaZero, AlphaChess, Watson</p>
<p>Why these trends ? - hype - long term research, subject to budget cuts - how to organize research on AI ? interdesciplinary research - premature ideas</p>
<section id="two-papers-on-automation" class="level3">
<h3 class="anchored" data-anchor-id="two-papers-on-automation">Two papers on automation</h3>
<p><strong>Pascual Restrepo: Artificial Intelligence, Automation and Work </strong></p>
<p>task-based framework - measure displacement effect - productivity effect: increase demand for labour in non-automated task - force against it: creation of new “labour-intensive tasks”</p>
<p>Erik Brynjolfsson: What Can Machines Learn, and What Does It Mean for Occupations and the Economy? (with Tom Mitchell and Daniel Rock)</p>
<hr>
</section>
<section id="what-can-machines-learn-and-what-does-it-mean-for-occupations-and-the-economy" class="level3">
<h3 class="anchored" data-anchor-id="what-can-machines-learn-and-what-does-it-mean-for-occupations-and-the-economy">What Can Machines Learn and What Does It Mean for Occupations and the Economy?</h3>
<p>Paper 1: Erik Brynjolfsson, Tom Mitchell, and Daniel Rock</p>
<ul>
<li><p>technology available today: Machine learning</p></li>
<li><p>is it susceptible to replace workers ? is your work at risk ?</p></li>
<li><p>only feasibility</p></li>
<li><p>an occupation is a bundle of tasks</p></li>
<li><p>Which are SML: susceptible to machine learning</p></li>
<li><p>from O*NET database:</p></li>
<li><p>964 occupations</p>
<ul>
<li>18,156 tasks
<ul>
<li>2,069 work activities</li>
</ul></li>
</ul></li>
<li><p>Crowdflower: evaluate work activities by answering</p>
<ul>
<li>23 distinct statements to be evaluated on a 5-point scale varying from “strongly disagree” to “strongly agree.”</li>
</ul></li>
<li><p>automation is limited to codifiable activities Polanyi’s paradox: we know more than we can tell</p></li>
</ul>
<hr>
</section>
<section id="result-1" class="level3">
<h3 class="anchored" data-anchor-id="result-1">Result (1)</h3>
<p>Low SML occupations SML High SML occupations SML Massage therapists 2.78 Concierges 3.9 Animal scientists 3.09 Mechanical drafters 3.9 Archeologists 3.11 Morticians, undertakers, and funeral directors 3.89 Public address system and other announcers 3.13 Credit authorizers 3.78 Plasterers and stucco masons 3.14 Brokerage clerks 3</p>
<hr>
</section>
<section id="result-2" class="level3">
<h3 class="anchored" data-anchor-id="result-2">Result (2)</h3>
<p>SML score versus occupational log median wage percentile</p>
<p>[TODO: graph]</p>
</section>
<section id="other-approaches" class="level3">
<h3 class="anchored" data-anchor-id="other-approaches">Other approaches</h3>
<p>ML learns by observing ad replicating</p>
<p>Singularity</p>
<p>Comparative advantage of labour and capital</p>
</section>
</section>
<section id="not-fitting-yet" class="level2">
<h2 class="anchored" data-anchor-id="not-fitting-yet">Not fitting yet</h2>
<hr>
<section id="ai" class="level3">
<h3 class="anchored" data-anchor-id="ai">AI</h3>
<p>Makes predictions cheap.</p>
<p>Surprise: many problems can be formulated as prediction problems</p>
<p>Data-in -&gt; Data-out ?</p>
<p>Not quite</p>
<hr>
<p>Examples: - GPT-3: 175 billion parameters - 45 TB of Data - 50 petaflop/s-days (1000 teraflops) - comparison: core i7, Haswell, (340 gigaflops) - GPT-3, requires an amount of energy equivalent to the yearly consumption of 126 Danish homes for one training session</p>
<p>AI advised a simulated patient to commit suicide.</p>
<hr>
</section>
<section id="definitions" class="level3">
<h3 class="anchored" data-anchor-id="definitions">Definitions</h3>
<ul>
<li><p>AI can be:</p>
<ul>
<li>a field</li>
<li>a set of technologies including
<ul>
<li>machine learning</li>
<li>deep learning</li>
<li>reinforcement learning</li>
</ul></li>
<li>a philosophical concept</li>
</ul></li>
<li><p>Automation: control “process” without human assistance</p></li>
<li><p>Behave like a human:</p>
<ul>
<li>Turing Test</li>
<li>Chinese Room Agreement
<ul>
<li>I am intelligent if I follow a rule book ?</li>
</ul></li>
</ul></li>
<li><p>Weak AI / Strong AI</p>
<ul>
<li>Weak:
<ul>
<li>specific task (recognize images, interpolate data, drive car)</li>
<li>human specify objectives, training hyperparameters</li>
</ul></li>
<li>Strong AI:
<ul>
<li>general-purpose</li>
<li>sets it own goal</li>
<li>over time</li>
</ul></li>
</ul></li>
<li><p>Strong AI: general artificial intelligence</p>
<ul>
<li>at least as strong as humans
<ul>
<li>turing test</li>
<li>CRA</li>
</ul></li>
<li>would still have to learn</li>
</ul>
<!-- - very big "Reinforcement Learning Machine" --></li>
<li><p>Don’t be naive: AI might have intrinsic limits…</p>
<ul>
<li>… but we are repeatedly proven wrong</li>
<li>… if they exist we don’t know what they are</li>
</ul></li>
<li><p>Artificial intelligence: oxymoron ?</p></li>
</ul>
</section>
</section>
<section id="ai-vs-automation" class="level2">
<h2 class="anchored" data-anchor-id="ai-vs-automation">AI vs Automation</h2>
<p>How is AI different from automation ?</p>
<ul>
<li>AI: more general purpose technology</li>
</ul>
<section id="remark" class="level3">
<h3 class="anchored" data-anchor-id="remark">Remark</h3>
<p>From a neoclassical perspective:</p>
<ul>
<li>AI cuts down costs, increase production, improves revenue, improves welfare</li>
<li><em>only</em> relevant question: for whom?
<ul>
<li>unless <em>malthusian</em> effect kicks in</li>
</ul></li>
</ul>
<hr>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>